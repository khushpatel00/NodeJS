<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MovieStore</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

</head>

<body class='bg-zinc-900 text-white'>

    <style>
        /* .movieCard:hover .movieDiscription {
            opacity: 1;
        } */
        .movieCard:hover .movieDiscription{
            display: flex;
            transition-duration: 1s;
            translate: 0 0;
            width: 100%;
            opacity: 1;
        }
    </style>


    <h1 class="p-10 pb-3 mb-7 text-4xl text-center border-b-zinc-500 border-b-2">MovieStore</h1>
    <!-- form -->
    <div class="flex justify-center">
        <form action="/addmovie" method="post"
            class="w-2/3 flex flex-row text-2xl flex-wrap justify-center items-center align-center"
            enctype="multipart/form-data">
            <div class="basis-full flex justify-between items-center flex-wrap ">
                <div class="flex w-1/2 justify-between">
                    <label for="title">Title: </label>
                    <input required type="text"
                        class="bg-zinc-800 w-1/2 justify-end rounded-sm border-zinc-500 border m-1" name="title"
                        id="title">

                </div>
            </div>
            <div class="basis-full flex justify-between items-center flex-wrap ">
                <div class="flex w-1/2 justify-between">
                    <label for="discription">Discription: </label>
                    <input required type="text"
                        class="bg-zinc-800 w-1/2 justify-end rounded-sm border-zinc-500 border m-1" name="discription"
                        id="discription">

                </div>
            </div>
            <div class="basis-full flex justify-between items-center flex-wrap ">
                <div class="flex w-1/2 justify-between">
                    <label for="rating">Rating: </label>
                    <input required type="number" min="0" max="5"
                        class="bg-zinc-800 w-1/2 justify-end rounded-sm border-zinc-500 border m-1" name="rating"
                        id="rating">

                </div>
            </div>
            <div class="basis-full flex justify-between items-center flex-wrap ">
                <div class="flex w-1/2 justify-between">
                    <label for="language">Language: </label>
                    <input required type="text"
                        class="bg-zinc-800 w-1/2 justify-end rounded-sm border-zinc-500 border m-1" name="language"
                        id="language">

                </div>
            </div>
            <div class="basis-full flex justify-between items-center flex-wrap ">
                <div class="flex w-1/2 justify-between">
                    <label for="genre">Genre <span class="text-zinc-400  text-xl pe-1">(optional)</span>: </label>
                    <input type="text" class="bg-zinc-800 w-1/2 justify-end rounded-sm border-zinc-500 border m-1"
                        name="genre" id="genre">

                </div>
            </div>
            <div class="basis-full flex justify-between items-center flex-wrap gap-10">
                <div class="flex w-1/4">
                    <label for="image">Cover Image: </label>
                    <div class="relative text-center cursor-pointer">
                        <input type="file"
                            class="bg-zinc-800 rounded-sm border-zinc-500 border m-1 text-transparent cursor-pointer h-20 w-40"
                            name="coverImage" id="image">
                        <span class="absolute top-1/2 left-1/2 -translate-1/2 text-center text-lg">Set Cover</span>
                    </div>
                </div>

            </div>
            <div class="basis-full w-1/4 flex justify-start mt-10">
                <input type="submit" value="Add movie"
                    class=" bg-zinc-800 p-1 px-3 rounded-sm cursor-pointer hover:bg-emerald-700 focus:bg-emerald-700 duration-200 hover:rounded-4xl focus:rounded-4xl ">
            </div>
        </form>
    </div>

    <form method="post" action="search" class="flex justify-center items-center mt-10">
        <label for="search">Search: </label>
        <input type="text" name="search" id="search" class="bg-zinc-800 rounded-sm border-zinc-500 border m-1">
    </form>

    <div class="flex justify-center duration-200 gap-5">

        <% movie.forEach((item, index)=> { %>
            <div class="movieCard basis-1/6 duration-200 flex m-0 p-0 text-white relative">
                <div class="bg-amber-100/80 text-zinc-200 overflow-hidden relative rounded-xl min-h-40 min-w-50 w-full movieParent duration-200">
                    <!-- <img src="https://placehold.co/500x600.png" class="h-60 " alt=""> -->
                    <img src="<%= item.imagePath %>" class="h-full w-full duration-200" alt="" />
                    <div class="text-3xl leading-5 absolute bottom-0 duration-200 left-0 p-2 pb-1.5 title">
                        <h2 class="text-shadow-[0_0_15px_rgb(0_0_0_/_1)] text-wrap">
                            <%= item.title %>,<span class="text-lg text-wrap">
                                    <%= item.language %>
                                </span>
                        </h2>
                        <h3 class="text-xl duration-200 tracking-0 text-shadow-[0_0_15px_rgb(0_0_0_/_1)]">
                            <!-- <%= item.rating %> ‚≠ê -->
                            <% for(let i=0; i < item.rating; i++) {%>
                                ‚≠ê
                                <% } %>
                        </h3>
                        <h3 class="text-xl duration-200 text-shadow-[0_0_15px_rgb(0_0_0_/_1)]">
                            <%= item.genre %>
                        </h3>
                    </div>
                    <div
                        class="absolute top-0 right-0 -translate-x-1/2 translate-y-1/4 flex flex-col-reverse  flex-wrap text-red-500 text-2xl cursor-pointer">
                        <form action="/deletemovie/?id=<%= item._id %>" method="post"
                            class="text-shadow-[0_0_15px_rgb(0_0_0_/_1)]">
                            <!-- <input type="submit" value="üóë"></input> -->
                            <input type="submit" value="&#128465;" />
                        </form>
                        <!-- <a href="/deletemovie/<%= item._id %>">&#128465;</a > -->
                        <a href="/editmovie/?id=<%= item._id %>" class="text-shadow-[0_0_15px_rgb(0_0_0_/_1)]">‚úèÔ∏è</a>
                    </div>

                </div>
                <p class="movieDiscription hover:flex duration-100 w-2/5 translate-x-1/2 duration-200 pe-3 ps-2 text-xl absolute opacity-0 hidden text-shadow-[0_7px_7px_rgb(0_0_0_/_1)] top-0 right-0">
                    <%= item.discription %>
                </p>
            </div>
            <% }) %>
    </div>

</body>

</html>