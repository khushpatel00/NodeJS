<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookStore</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

</head>

<body class='bg-zinc-900 text-white'>

    <style>
        .bookParent:hover .bookDiscription {
            opacity: 1;
            translate: 0 -100%;
        }

        .bookParent:hover .title {
            translate: 0 -30%
        }
    </style>


    <h1 class="p-10 text-4xl">BookStore</h1>
    <!-- form -->
    <div class="flex justify-center">
        <form action="/addBook" method="post"
            class="w-2/3 flex flex-row text-2xl flex-wrap justify-center items-center align-center"
            enctype="multipart/form-data">
            <div class="basis-1/2 flex justify-center items-center ">
                <label for="title">Title: </label>
                <input required type="text" class="bg-zinc-800 rounded-sm border-zinc-500 border m-1" name="title" id="title">
            </div>
            <div class="basis-1/2 flex justify-center items-center ">
                <label for="discription">Discription: </label>
                <input required type="text" class="bg-zinc-800 rounded-sm border-zinc-500 border m-1" name="discription"
                    id="discription">
            </div>
            <div class="basis-1/2 flex justify-center items-center ">
                <label for="price">Price: </label>
                <input required type="number" class="bg-zinc-800 rounded-sm border-zinc-500 border m-1" name="price" id="price">
            </div>
            <div class="basis-1/2 flex justify-center items-center ">
                <label for="author">Author: </label>
                <input required type="text" class="bg-zinc-800 rounded-sm border-zinc-500 border m-1" name="author" id="author">
            </div>
            <div class="basis-1/2 flex justify-center items-center ">
                <label for="genre">Genre <span class="text-zinc-400 text-xl pe-1">(optional)</span>: </label>
                <input type="text" class="bg-zinc-800 rounded-sm border-zinc-500 border m-1" name="genre" id="genre">
            </div>
            <div class="basis-1/2 flex justify-center items-center gap-10">
                <label for="image">Cover Image: </label>
                <div class="relative text-center cursor-pointer">
                    <input type="file"
                        class="bg-zinc-800 rounded-sm border-zinc-500 border m-1 text-transparent cursor-pointer h-20 w-40"
                        name="coverImage" id="image">
                    <span class="absolute top-1/2 left-1/2 -translate-1/2 text-center text-lg">Set Cover</span>
                </div>
            </div>
            <div class="basis-full flex justify-center mt-10">
                <input type="submit" value="Add Book"
                    class=" bg-zinc-800 p-1 px-3 rounded-sm cursor-pointer hover:bg-emerald-700 focus:bg-emerald-700 duration-200 hover:rounded-4xl focus:rounded-4xl ">
            </div>
        </form>
    </div>

    <form method="post" action="search" class="flex justify-center items-center mt-10"> 
        <label for="search">Search: </label>
        <input type="text" name="search" id="search" class="bg-zinc-800 rounded-sm border-zinc-500 border m-1">
    </form>

    <div class="flex justify-center mt-20 gap-5">
        <% book.forEach((item, index)=> { %>
            <div class="bg-amber-200/80 text-zinc-900 relative rounded-xl overflow-hidden min-h-60 min-w-40 bookParent">
                <!-- <img src="https://placehold.co/500x600.png" class="h-60 " alt=""> -->
                <img src="<%= item.imagePath %>" class="h-60 " alt="" />
                <div class="text-3xl leading-5 absolute bottom-0 duration-200 left-0 p-2 pb-1.5 title">
                    <h2 class="text-shadow-[0_0_20px_rgb(255_255_255_/_1)] text-wrap"><%= item.title %>,<span class="text-lg text-wrap"><%= item.author %></span></h2> 
                    <h3 class="text-xl duration-200 text-shadow-[0_0_20px_rgb(255_255_255_/_1)]">
                        $ <%= item.price %>
                    </h3>
                    <h3 class="text-xl duration-200 text-shadow-[0_0_20px_rgb(255_255_255_/_1)]">
                        <%= item.genre %>
                    </h3>
                </div>
                <div class="absolute top-0 right-0 -translate-x-1/2 translate-y-1/4 flex flex-col-reverse  flex-wrap text-red-500 text-2xl cursor-pointer">
                    <form action="/deleteBook/?id=<%= item._id %>" method="post" class="text-shadow-[0_0_20px_rgb(255_255_255_/_1)]">
                        <!-- <input type="submit" value="üóë"></input> -->
                        <input type="submit" value="&#128465;"></input>
                    </form>
                    <!-- <a href="/deleteBook/<%= item._id %>">&#128465;</a > -->
                    <a href="/editBook/?id=<%= item._id %>" class="text-shadow-[0_0_20px_rgb(255_255_255_/_1)]">‚úèÔ∏è</a >
                </div> 
                
                <p class="bookDiscription absolute opacity-0 duration-200 ps-3 text-xl">
                    <%= item.discription %>
                </p>
            </div>
            <% }) %>
    </div>

</body>

</html>